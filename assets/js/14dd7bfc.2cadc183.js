"use strict";(self.webpackChunkjs_cook_wiki=self.webpackChunkjs_cook_wiki||[]).push([[746],{3066(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"contents/deep-clone","title":"\uac1d\uccb4 \uae4a\uc740 \ubcf5\uc0ac(Deep Clone)","description":"\uc595\uc740 \ubcf5\uc0ac\ub85c\ub294 \uc911\ucca9 \uac1d\uccb4\uac00 \uacf5\uc720\ub418\uae30 \ub54c\ubb38\uc5d0 \uc608\uc0c1\uce58 \ubabb\ud55c \ubcc0\uacbd\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uae4a\uc740 \ubcf5\uc0ac\ub97c \uc0ac\uc6a9\ud574 \uc548\uc804\ud558\uac8c \ubcf5\uc81c\ud569\ub2c8\ub2e4.","source":"@site/docs/contents/deep-clone.md","sourceDirName":"contents","slug":"/contents/deep-clone","permalink":"/js-code-snippets/contents/deep-clone","draft":false,"unlisted":false,"editUrl":"https://github.com/num2k/js-code-snippets/edit/main/docs/contents/deep-clone.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"deep-clone","title":"\uac1d\uccb4 \uae4a\uc740 \ubcf5\uc0ac(Deep Clone)","sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"\ub514\ubc14\uc6b4\uc2a4(debounce) \uad6c\ud604","permalink":"/js-code-snippets/contents/debounce"},"next":{"title":"\ubb38\uc790\uc5f4\uc744 URL \uc2ac\ub7ec\uadf8\ub85c \ubcc0\ud658(slugify)","permalink":"/js-code-snippets/contents/slugify"}}');var i=t(4848),o=t(8453);const r={id:"deep-clone",title:"\uac1d\uccb4 \uae4a\uc740 \ubcf5\uc0ac(Deep Clone)",sidebar_position:2},a=void 0,c={},l=[{value:"\ube60\ub978 \ubc29\ubc95 (\uad6c\uc870 \ub2e8\uc21c, JSON \ud638\ud658\uc77c \ub54c)",id:"\ube60\ub978-\ubc29\ubc95-\uad6c\uc870-\ub2e8\uc21c-json-\ud638\ud658\uc77c-\ub54c",level:2},{value:"\ubc94\uc6a9 \ubc29\ubc95 (\uc7ac\uadc0)",id:"\ubc94\uc6a9-\ubc29\ubc95-\uc7ac\uadc0",level:2},{value:"\uc0ac\uc6a9 \uc608",id:"\uc0ac\uc6a9-\uc608",level:2}];function p(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\uc595\uc740 \ubcf5\uc0ac\ub85c\ub294 \uc911\ucca9 \uac1d\uccb4\uac00 \uacf5\uc720\ub418\uae30 \ub54c\ubb38\uc5d0 \uc608\uc0c1\uce58 \ubabb\ud55c \ubcc0\uacbd\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uae4a\uc740 \ubcf5\uc0ac\ub97c \uc0ac\uc6a9\ud574 \uc548\uc804\ud558\uac8c \ubcf5\uc81c\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(n.h2,{id:"\ube60\ub978-\ubc29\ubc95-\uad6c\uc870-\ub2e8\uc21c-json-\ud638\ud658\uc77c-\ub54c",children:"\ube60\ub978 \ubc29\ubc95 (\uad6c\uc870 \ub2e8\uc21c, JSON \ud638\ud658\uc77c \ub54c)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"export function deepCloneByJSON<T>(obj: T): T {\n  return JSON.parse(JSON.stringify(obj));\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\uc7a5\uc810: \ub9e4\uc6b0 \ube60\ub974\uace0 \uac04\ub2e8"}),"\n",(0,i.jsxs)(n.li,{children:["\ub2e8\uc810: ",(0,i.jsx)(n.code,{children:"Date"}),", ",(0,i.jsx)(n.code,{children:"Map"}),", ",(0,i.jsx)(n.code,{children:"Set"}),", ",(0,i.jsx)(n.code,{children:"undefined"}),", \ud568\uc218 \ub4f1\uc740 \uc190\uc2e4\ub429\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\ubc94\uc6a9-\ubc29\ubc95-\uc7ac\uadc0",children:"\ubc94\uc6a9 \ubc29\ubc95 (\uc7ac\uadc0)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"export function deepClone<T>(input: T, weak = new WeakMap()): T {\n  if (input === null || typeof input !== 'object') return input as T;\n  if (weak.has(input as any)) return weak.get(input as any);\n\n  if (input instanceof Date) return new Date(input) as any;\n  if (input instanceof RegExp) return new RegExp(input) as any;\n  if (input instanceof Map) return new Map(Array.from(input, ([k, v]) => [deepClone(k, weak), deepClone(v, weak)])) as any;\n  if (input instanceof Set) return new Set(Array.from(input, (v) => deepClone(v, weak))) as any;\n\n  const output: any = Array.isArray(input) ? [] : {};\n  weak.set(input as any, output);\n  for (const [k, v] of Object.entries(input as any)) {\n    output[k] = deepClone(v as any, weak);\n  }\n  return output;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\uc0ac\uc6a9-\uc608",children:"\uc0ac\uc6a9 \uc608"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:"showLineNumbers",children:"const a = { when: new Date(), list: [1, { v: 2 }], map: new Map([[1, new Set([1,2])]]) };\nconst b = deepClone(a);\n\nb.list[1].v = 3;\nconsole.log(a.list[1].v); // 2 (\uc6d0\ubcf8 \ubd88\ubcc0)\n"})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>a});var s=t(6540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);