# JS Code Snippets

자바스크립트 개발 시 자주 쓰는 팁, 유틸리티, 코드 스니펫을 빠르게 찾아볼 수 있는 문서입니다.

- 배포 URL: https://num2k.github.io/js-code-snippets/
- 저장소: https://github.com/num2k/js-code-snippets

## 목표 및 설계

이 프로젝트의 목표:
- Markdown(`.md`)으로 팁을 작성하면 자동으로 HTML 문서로 렌더링
- 제목/소제목 기반 자동 목차(ToC)와 사이드바 제공
- 키워드 검색 기능 제공(오프라인 로컬 검색 플러그인)
- GitHub Actions로 `main` 브랜치 푸시 시 자동으로 GitHub Pages(`gh-pages`)에 배포

기술 스택 및 주요 설정:
- Docusaurus v3 (Classic preset, docs at root)
- Local Search: `@easyops-cn/docusaurus-search-local`
- 언어: 한국어(`ko`)
- GitHub Pages: 조직 `num2k`, 저장소 `js-code-snippets`, 배포 브랜치 `gh-pages`
- 사이트 경로: `https://num2k.github.io/js-code-snippets/` (baseUrl: `/js-code-snippets/`)

구조 개요:
```
js-code-snippets/
├─ docs/                 # 모든 문서(.md) — 사이트 루트('/')로 라우팅됨
│  ├─ index.md           # 소개 페이지 (루트)
│  └─ contents/          # 예시 스니펫 모음
├─ sidebars.ts           # 자동 생성 사이드바 설정
├─ docusaurus.config.ts  # Docusaurus 설정 (URL, baseUrl, 검색 플러그인 등)
├─ src/
│  └─ css/custom.css     # 테마 커스텀
├─ static/
│  └─ img/               # 정적 이미지(logo.svg, og-image.svg)
└─ .github/workflows/deploy.yml  # GitHub Actions 배포 워크플로우
```

## 로컬 개발

사전 준비: Node.js 20+ (권장 LTS)

```bash
npm ci
npm start
```

- `npm start`: 개발 서버를 띄우고 변경 사항을 실시간 반영합니다. 기본 포트는 3000입니다.
- `npm run build`: 정적 사이트를 `build/` 폴더에 생성합니다.
- `npm run serve`: 빌드 결과물을 로컬에서 서빙합니다.

## 문서 작성 가이드

- 모든 팁은 `docs/` 폴더 아래에 `.md` 파일로 추가합니다.
- 파일 상단에 다음과 같은 Front Matter(옵션)를 둘 수 있습니다:

```md
---
id: unique-id     # 문서 고유 식별자 (생략시 파일 경로 기반)
title: 문서 제목    # 사이드바/페이지 제목
sidebar_position: 1 # 같은 폴더 내 정렬 우선순위
---
```

- 문서 안에 `##`(h2), `###`(h3) 헤딩을 사용하면 자동 목차(ToC)가 생성됩니다.
- 코드 블록은 언어를 지정해 하이라이트를 활성화하세요. 예: <code>```ts</code>
- 새 카테고리는 `docs/새폴더/문서.md` 형태로 자유롭게 생성하면 사이드바가 자동으로 반영됩니다(autogenerated sidebar).

## 검색 기능

이 사이트는 Local Search 플러그인을 사용합니다.
- 플러그인: `@easyops-cn/docusaurus-search-local`
- 한국어/영어 토큰화를 지원하도록 `language: ['en', 'ko']` 설정
- 문서 루트(`/`)를 기준으로 인덱싱합니다.

상단 네비게이션 우측에 검색 입력이 표시되며, 키워드 입력 시 관련 문서를 빠르게 찾을 수 있습니다.

## 배포 (GitHub Pages)

이 저장소에는 `main` 브랜치 푸시 시 자동으로 배포하는 GitHub Actions 워크플로우가 포함되어 있습니다.

- 워크플로우 파일: `.github/workflows/deploy.yml`
- 동작:
  1. 코드를 체크아웃하고 Node.js 18을 설정
  2. `npm ci`로 의존성 설치 후 `npm run build`로 정적 사이트 빌드
  3. `peaceiris/actions-gh-pages`로 `build/`를 `gh-pages` 브랜치에 배포
- 추가 설정(한 번만): 저장소의 GitHub Pages 설정에서 배포 소스를 `gh-pages` 브랜치로 설정합니다.

수동 배포가 필요할 경우(로컬에서):
```bash
npm run build
npx docusaurus deploy
```
> 주의: 로컬에서 `docusaurus deploy`를 사용할 때는 `GITHUB_TOKEN` 또는 깃 인증이 필요합니다. 일반 사용 흐름에서는 GitHub Actions에 맡기는 것을 권장합니다.

## 트러블슈팅

- 경로(404) 문제: `url`은 `https://num2k.github.io`, `baseUrl`은 `/js-code-snippets/`인지 확인하세요.
- 페이지가 비어있거나 검색이 안 됨: 빌드 로그에서 에러/경고를 확인하고, 문서 폴더(`docs/`) 내에 최소 1개 이상의 `.md` 파일이 있는지 확인하세요.
- 한국어 검색 정확도: 제목/본문에 핵심 키워드를 포함하세요.
